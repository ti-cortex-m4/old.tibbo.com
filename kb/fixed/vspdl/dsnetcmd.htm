<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
 "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en"
 lang="en" dir="ltr">
<head>
  <link rel="stylesheet" href="../../../../m0.tibbo.net/modules/min/g=css_tm&30.css" tppabs="http://m0.tibbo.net/modules/min/g=css_tm&30" type="text/css" />

  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>
    Sending Commands To A DS in Linux Using DSNetCmd    [DokuWiki]
  </title>

  <meta name="generator" content="DokuWiki Release 2009-12-25c &quot;Lemming&quot;" />
<meta name="robots" content="index,follow" />
<meta name="date" content="2010-05-20T18:00:22+0400" />
<meta name="keywords" content="fixed,vspdl,dsnetcmd" />
<link rel="search" type="application/opensearchdescription+xml" href="/kb/lib/exe/opensearch.php" title="DokuWiki" />
<link rel="start" href="/kb/" />
<link rel="alternate" type="application/rss+xml" title="Recent Changes" href="/kb/feed.php" />
<link rel="alternate" type="application/rss+xml" title="Current Namespace" href="/kb/feed.php?mode=list&amp;ns=fixed:vspdl" />
<link rel="alternate" type="text/html" title="Plain HTML" href="/kb/_export/xhtml/fixed/vspdl/dsnetcmd" />
<link rel="alternate" type="text/plain" title="Wiki Markup" href="/kb/_export/raw/fixed/vspdl/dsnetcmd" />
<link rel="canonical" href="http://old.tibbo.com/kb/fixed/vspdl/dsnetcmd" />
<link rel="stylesheet" media="all" type="text/css" href="../../lib/exe/css.php-s=all&t=new2&tseed=1273149525.css" tppabs="http://old.tibbo.com/kb/lib/exe/css.php?s=all&t=new2&tseed=1273149525" />
<link rel="stylesheet" media="screen" type="text/css" href="../../lib/exe/css.php-t=new2&tseed=1273149525.css" tppabs="http://old.tibbo.com/kb/lib/exe/css.php?t=new2&tseed=1273149525" />
<link rel="stylesheet" media="print" type="text/css" href="../../lib/exe/css.php-s=print&t=new2&tseed=1273149525.css" tppabs="http://old.tibbo.com/kb/lib/exe/css.php?s=print&t=new2&tseed=1273149525" />
<script type="text/javascript" charset="utf-8" ><!--//--><![CDATA[//><!--
var NS='fixed:vspdl';var JSINFO = {"id":"fixed:vspdl:dsnetcmd","namespace":"fixed:vspdl"};
//--><!]]></script>
<script type="text/javascript" charset="utf-8" src="../../lib/exe/js.php-tseed=1273149525" tppabs="http://old.tibbo.com/kb/lib/exe/js.php?tseed=1273149525" ></script>

  <link rel="shortcut icon" href="/kb/lib/tpl/new2/images/favicon.ico" />

  	<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-9366256-1']);
  _gaq.push(['_setDomainName', 'http://old.tibbo.com/kb/fixed/vspdl/.tibbo.com']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www/') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>
</head>
<body style="margin: 0pt; padding: 17px; background-color: rgb(238, 238, 238); background-image: url(/images/bg.gif); background-repeat: repeat-x;" onload="preload();">

<div id="navbar">

<div class="header">
 <div class="logo">
<a href="javascript:if(confirm('http://tibbo.com/  \n\nThis file was not retrieved by Teleport Pro, because it is addressed on a domain or path outside the boundaries set for its Starting Address.  \n\nDo you want to open it from the server?'))window.location='http://tibbo.com/'" tppabs="http://tibbo.com/"><img src="../../../../i1.tibbo.net/images/logo.png" tppabs="http://i1.tibbo.net/images/logo.png" alt="Serial to Ethernet, Device Servers, Remote Monitoring, Device Management" width="100" height="44" border="0"/></a>
 </div>
 <div class="menu_wrapper en">
<!-- topmenu -->
<div class="topmenu">
<div class="menuitems"><ul><li><a href="javascript:if(confirm('http://tibbo.com/products/  \n\nThis file was not retrieved by Teleport Pro, because it is addressed on a domain or path outside the boundaries set for its Starting Address.  \n\nDo you want to open it from the server?'))window.location='http://tibbo.com/products/'" tppabs="http://tibbo.com/products/">Products</a></li><li><a href="javascript:if(confirm('http://tibbo.com/downloads.html  \n\nThis file was not retrieved by Teleport Pro, because it is addressed on a domain or path outside the boundaries set for its Starting Address.  \n\nDo you want to open it from the server?'))window.location='http://tibbo.com/downloads.html'" tppabs="http://tibbo.com/downloads.html">Downloads</a></li><li><a href="javascript:if(confirm('http://tibbo.com/buy/  \n\nThis file was not retrieved by Teleport Pro, because it is addressed on a domain or path outside the boundaries set for its Starting Address.  \n\nDo you want to open it from the server?'))window.location='http://tibbo.com/buy/'" tppabs="http://tibbo.com/buy/">Buy</a></li>
<li>Docs &amp; Support</li><li><a href="javascript:if(confirm('http://tibbo.com/corporate/about  \n\nThis file was not retrieved by Teleport Pro, because it is addressed on a domain or path outside the boundaries set for its Starting Address.  \n\nDo you want to open it from the server?'))window.location='http://tibbo.com/corporate/about'" tppabs="http://tibbo.com/corporate/about">Corporate</a></li><li><a href="javascript:if(confirm('http://blog.tibbo.com/  \n\nThis file was not retrieved by Teleport Pro, because it is addressed on a domain or path outside the boundaries set for its Starting Address.  \n\nDo you want to open it from the server?'))window.location='http://blog.tibbo.com/'" tppabs="http://blog.tibbo.com/">News</a></li></ul></div>  <div class="search">
		<form action="http://tibbo.com/search.html" method="get">
			<input name="q" type="text" value="Search..." onblur="if(this.value=='') this.value='Search...';" onfocus="if(this.value=='Search...') this.value='';"/>
		</form>
	</div>
</div>
<div class="topmenu">
<div class="menuitems"><ul><li><a href="javascript:if(confirm('http://tibbo.com/soi/  \n\nThis file was not retrieved by Teleport Pro, because it is addressed on a domain or path outside the boundaries set for its Starting Address.  \n\nDo you want to open it from the server?'))window.location='http://tibbo.com/soi/'" tppabs="http://tibbo.com/soi/">Serial-over-IP</a></li><li><a href="javascript:if(confirm('http://tibbo.com/basic/  \n\nThis file was not retrieved by Teleport Pro, because it is addressed on a domain or path outside the boundaries set for its Starting Address.  \n\nDo you want to open it from the server?'))window.location='http://tibbo.com/basic/'" tppabs="http://tibbo.com/basic/">Programmable</a></li><li><a href="javascript:if(confirm('http://aggregate.tibbo.com/  \n\nThis file was not retrieved by Teleport Pro, because it is addressed on a domain or path outside the boundaries set for its Starting Address.  \n\nDo you want to open it from the server?'))window.location='http://aggregate.tibbo.com/'" tppabs="http://aggregate.tibbo.com/">Device Management</a></li><li><a href="javascript:if(confirm('http://tibbo.com/ninja/  \n\nThis file was not retrieved by Teleport Pro, because it is addressed on a domain or path outside the boundaries set for its Starting Address.  \n\nDo you want to open it from the server?'))window.location='http://tibbo.com/ninja/'" tppabs="http://tibbo.com/ninja/">Terminal/Sniffer</a></li><li><a href="javascript:if(confirm('http://tibbo.com/oem/  \n\nThis file was not retrieved by Teleport Pro, because it is addressed on a domain or path outside the boundaries set for its Starting Address.  \n\nDo you want to open it from the server?'))window.location='http://tibbo.com/oem/'" tppabs="http://tibbo.com/oem/">OEM/ODM</a></li></ul></div>

</div>
<!-- topmenu / -->
</div>


</div>

	</div>

	<table style="margin-top: 13px;" align="center" border="0" cellpadding="0" cellspacing="0" width="950px">

		<tbody><tr>
			<td style="background-image: url(/images/tstuff/support-bg.gif);"><a href="javascript:if(confirm('http://tibbo.com/support.html  \n\nThis file was not retrieved by Teleport Pro, because it is addressed on a domain or path outside the boundaries set for its Starting Address.  \n\nDo you want to open it from the server?'))window.location='http://tibbo.com/support.html'" tppabs="http://tibbo.com/support.html"><img src="../../../images/tstuff/support-logo.gif" tppabs="http://old.tibbo.com/images/tstuff/support-logo.gif" alt="" border="0" height="94" width="464"/></a><br/></td>
			<td style="background-image: url(/images/tstuff/support-bg.gif);" align="right"><img src="../../../images/tstuff/support-img.jpg" tppabs="http://old.tibbo.com/images/tstuff/support-img.jpg" alt="" border="0" height="94" width="470"/><br/></td>
		</tr>
	</tbody></table>






<table cellspacing="0" cellpadding="0" border="0" width="950px" align="center">
		<tr valign="top">
			<td width="214px">







<div class='new_leftmenu'>
<ul>
<li><a href="javascript:if(confirm('http://tibbo.com/support.html  \n\nThis file was not retrieved by Teleport Pro, because it is addressed on a domain or path outside the boundaries set for its Starting Address.  \n\nDo you want to open it from the server?'))window.location='http://tibbo.com/support.html'" tppabs="http://tibbo.com/support.html">Support Home</a></li>
<li><a href="javascript:if(confirm('http://tibbo.com/kb/  \n\nThis file was not retrieved by Teleport Pro, because it is addressed on a domain or path outside the boundaries set for its Starting Address.  \n\nDo you want to open it from the server?'))window.location='http://tibbo.com/kb/'" tppabs="http://tibbo.com/kb/" style='color:Gray;'>Knowledge Base</a></li>
<li><a href="javascript:if(confirm('http://docs.tibbo.com/  \n\nThis file was not retrieved by Teleport Pro, because it is addressed on a domain or path outside the boundaries set for its Starting Address.  \n\nDo you want to open it from the server?'))window.location='http://docs.tibbo.com/'" tppabs="http://docs.tibbo.com/">Documentation</a></li>
<li><a href="javascript:if(confirm('http://tibbo.com/support/contact  \n\nThis file was not retrieved by Teleport Pro, because it is addressed on a domain or path outside the boundaries set for its Starting Address.  \n\nDo you want to open it from the server?'))window.location='http://tibbo.com/support/contact'" tppabs="http://tibbo.com/support/contact">Contact Support</a></li>
<li><a href="javascript:if(confirm('http://getsatisfaction.com/tibbo  \n\nThis file was not retrieved by Teleport Pro, because it is addressed on a domain or path outside the boundaries set for its Starting Address.  \n\nDo you want to open it from the server?'))window.location='http://getsatisfaction.com/tibbo'" tppabs="http://getsatisfaction.com/tibbo">Unofficial Forum</a></li>
</ul>
</div>
</td>

<!-- t / -->

			<td><img src="../../../images/spacer.gif" tppabs="http://old.tibbo.com/images/spacer.gif" alt="" width="12" height="12px" border="0"/></td>
			<td width="724px"><!-- t -->

<div class="new_main_frame" style="margin-top:12px">
<!-- real main body -->
<!--
ee
{MYVAR}
xxx
-->
<div class="dokuwiki">
  <div class="stylehead">

      <div class="clearer"></div>
    </div>





    
  <div class="page">
    <!-- wikipage start -->



<h1><a name="sending_commands_to_a_ds_in_linux_using_dsnetcmd" id="sending_commands_to_a_ds_in_linux_using_dsnetcmd">Sending Commands To A DS in Linux Using DSNetCmd</a></h1>
<div class="level1">

<p>

dsnetcmd is a Linux command-line tool which helps configure Tibbo devices over the network. It makes a UDP command connection to the command port of the EM or DS module, sends configuration commands and gets replies (all commands are described under <a href="javascript:if(confirm('http://docs.tibbo.com/soism/commands.htm  \n\nThis file was not retrieved by Teleport Pro, because it is addressed on a domain or path outside the boundaries set for its Starting Address.  \n\nDo you want to open it from the server?'))window.location='http://docs.tibbo.com/soism/commands.htm'" tppabs="http://docs.tibbo.com/soism/commands.htm" class="urlextern" title="http://docs.tibbo.com/soism/commands.htm"  rel="nofollow">http://docs.tibbo.com/soism/commands.htm</a>)
</p>

<p>
dsnetcmd is <strong>provided as part of the free Tibbo <a href="javascript:if(confirm('http://tibbo.com/downloads/soi/vspdl.html  \n\nThis file was not retrieved by Teleport Pro, because it is addressed on a domain or path outside the boundaries set for its Starting Address.  \n\nDo you want to open it from the server?'))window.location='http://tibbo.com/downloads/soi/vspdl.html'" tppabs="http://tibbo.com/downloads/soi/vspdl.html" class="urlextern" title="http://tibbo.com/downloads/soi/vspdl.html"  rel="nofollow">VSPDL</a> package</strong>. After installation, you can find it under /usr/local/vspd/bin/.
</p>

</div>

<h2><a name="synopsys" id="synopsys">Synopsys</a></h2>
<div class="level2">

<p>

Usage: ./dsnetcmd [options] [cmd]
</p>

<p>
<strong>[-h|–help]:</strong>    this help
</p>

<p>
<strong>[-v]:</strong>  verbose (debugging messages)
</p>

<p>
<strong>[-b]:</strong>   broadcast mode
</p>

<p>
<strong>[-a]:</strong>   send broadcast from all interfaces (auto-discover bcast interfaces)
</p>

<p>
<strong>[-p]:</strong>   prompt for user command
</p>

<p>
<strong>[-i]:</strong>   interactive (read commands from stdin)
</p>

<p>
<strong>[-t&lt;tout&gt;]:</strong>     wait for reply timeout (default:50 msec)
</p>

<p>
<strong>[–ta=&lt;ipmask&gt;]:</strong>        IP subnet mask (default: 255.255.255.255) <strong>or</strong> specific destination address.
</p>

<p>
<strong>[–tp=&lt;port&gt;]:</strong>  command port (default: 65535)
</p>

<p>
<strong>[cmd]:</strong>  network command (for example, X)
</p>

<p>
dsnetcmd works in 3 modes:

</p>
<ol>
<li class="level1"><div class="li"> Simple mode</div>
</li>
<li class="level1"><div class="li"> Command-line mode (with prompt)</div>
</li>
<li class="level1"><div class="li"> Command-line mode without prompt (batch mode)</div>
</li>
</ol>

</div>

<h2><a name="examples" id="examples">Examples</a></h2>
<div class="level2">

</div>

<h3><a name="sending_a_broadcast_command_x_to_find_devices_in_our_subnet" id="sending_a_broadcast_command_x_to_find_devices_in_our_subnet">Sending a broadcast command X to find devices in our subnet</a></h3>
<div class="level3">

<p>

<strong>-b</strong> - broadcast command, <strong>-a</strong> - send command from all interfaces, <strong>X</strong> - echo command for DS.
</p>
<pre class="code">[dvorkin@dvhome bin]$ ./dsnetcmd -b -a X
&lt;dev-reply from=&quot;10.1.1.8:65535&quot; cmd=&quot;X&quot;&gt;
	&lt;reply-msg&gt;success&lt;/reply-msg&gt;
	&lt;mac&gt;0.2.3.4.22.216&lt;/mac&gt;
	&lt;data-port&gt;1001&lt;/data-port&gt;
	&lt;device-state&gt;usual mode&lt;/device-state&gt;
	&lt;ip-status&gt;fixed, set manually&lt;/ip-status&gt;
	&lt;data-conection-status&gt;closed&lt;/data-connection-status&gt;
	&lt;owner-name&gt;admin&lt;/owner-name&gt;
	&lt;device-name&gt;c4&lt;/device-name&gt;
&lt;/dev-reply&gt;</pre>

<p>
found 1 device with MAC=0.2.3.4.22.216, data_port = 1001
</p>

</div>

<h3><a name="do_the_same_in_verbose_mode_-v" id="do_the_same_in_verbose_mode_-v">Do the same in verbose mode (-v)</a></h3>
<div class="level3">
<pre class="code">[dvorkin@dvhome bin]$ ./dsnetcmd -v -b -a X
setting target to 255.255.255.255:65535..
found broadcast address 127.255.255.255 in lo
found broadcast address 10.1.1.255 in eth0
found broadcast address 10.1.2.255 in eth1
sending command X to 127.255.255.255:65535...
sending command X to 10.1.1.255:65535...
sending command X to 10.1.2.255:65535...
reply A0.2.3.4.22.216/1001/N**M*/**/admin/c4 from 10.1.1.8:65535
&lt;dev-reply from=&quot;10.1.1.8:65535&quot; cmd=&quot;X&quot;&gt;
	&lt;reply-msg&gt;success&lt;/reply-msg&gt;
	&lt;mac&gt;0.2.3.4.22.216&lt;/mac&gt;
	&lt;data-port&gt;1001&lt;/data-port&gt;
	&lt;device-state&gt;usual mode&lt;/device-state&gt;
	&lt;ip-status&gt;fixed, set manually&lt;/ip-status&gt;
	&lt;data-conection-status&gt;closed&lt;/data-connection-status&gt;
	&lt;owner-name&gt;admin&lt;/owner-name&gt;
	&lt;device-name&gt;c4&lt;/device-name&gt;
&lt;/dev-reply&gt;</pre>

</div>

<h3><a name="sending_the_u_command_status_command" id="sending_the_u_command_status_command">Sending the U command (status command)</a></h3>
<div class="level3">
<pre class="code">[dvorkin@dvhome bin]$ ./dsnetcmd -b -a U
&lt;dev-reply from=&quot;10.1.1.8:65535&quot; cmd=&quot;U&quot;&gt;
	&lt;reply-msg&gt;success&lt;/reply-msg&gt;
	&lt;last-ip&gt;192.168.0.2&lt;/last-ip&gt;
	&lt;last-port&gt;6450&lt;/last-port&gt;
	&lt;Net-to-Serial-buffer&gt;
		&lt;in-buffer&gt;0&lt;/in-buffer&gt;
		&lt;capacity&gt;285&lt;/capacity&gt;
	&lt;/Net-to-Serial-buffer&gt;
	&lt;Serial-to-Net-buffer&gt;
		&lt;commited-chars&gt;0&lt;/commited-chars&gt;
		&lt;in-buffer&gt;0&lt;/in-buffer&gt;
		&lt;capacity&gt;308&lt;/capacity&gt;
	&lt;/Serial-to-Net-buffer&gt;
	&lt;cur-baud-rate&gt;38400 bps&lt;/cur-baud-rate&gt;
	&lt;Serial-port&gt;
		&lt;state&gt;closed&lt;/state&gt;
		&lt;mode&gt;full-duplex&lt;/mode&gt;
		&lt;flow-control&gt;RTS/CTS&lt;/flow-control&gt;
		&lt;parity&gt;none&lt;/parity&gt;
		&lt;bits-per-byte&gt;8&lt;/bits-per-byte&gt;
	&lt;/Serial-port&gt;
	&lt;Lines&gt;
		&lt;rts&gt;LOW&lt;/rts&gt;
		&lt;cts&gt;LOW&lt;/cts&gt;
		&lt;dtr&gt;HIGH&lt;/dtr&gt;
		&lt;dsr&gt;LOW&lt;/dsr&gt;
	&lt;/Lines&gt;
&lt;/dev-reply&gt;</pre>

</div>

<h3><a name="changing_the_ip_of_a_ds_with_input_from_stdin" id="changing_the_ip_of_a_ds_with_input_from_stdin">Changing the IP of a DS with input from stdin</a></h3>
<div class="level3">

<p>

<strong>-p</strong> - prompt <strong>–ta</strong> - &lt;current DS IP&gt;, <strong>-i</strong> - input from stdin

</p>
<pre class="code">[dvorkin@dvhome bin]$ ./dsnetcmd -p --ta=10.1.1.8 -i
dsnetcmd&gt;GIP
&lt;dev-reply from=&quot;10.1.1.8:65535&quot; cmd=&quot;GIP&quot;&gt;
	&lt;reply-msg&gt;access denied&lt;/reply-msg&gt;
&lt;/dev-reply&gt;
// we try to get current IP - access denied - need login
dsnetcmd&gt;Ltest
&lt;dev-reply from=&quot;10.1.1.8:65535&quot; cmd=&quot;Ltest&quot;&gt;
	&lt;reply-msg&gt;success&lt;/reply-msg&gt;
&lt;/dev-reply&gt;
// we are successfully logged in with password &quot;test&quot;
dsnetcmd&gt;GIP
&lt;dev-reply from=&quot;10.1.1.8:65535&quot; cmd=&quot;GIP&quot;&gt;
	&lt;reply-msg&gt;success&lt;/reply-msg&gt;
	&lt;reply-data&gt;10.1.1.8&lt;/reply-data&gt;
&lt;/dev-reply&gt;
// now we can make any command on DS
dsnetcmd&gt;SIP10.1.1.7
&lt;dev-reply from=&quot;10.1.1.8:65535&quot; cmd=&quot;SIP10.1.1.7&quot;&gt;
	&lt;reply-msg&gt;success&lt;/reply-msg&gt;
&lt;/dev-reply&gt;
// we changed DS IP
dsnetcmd&gt;
&lt;Ctrl&gt;+&lt;C&gt;
// exit from dsnetcmd</pre>

</div>

<h3><a name="changing_the_ip_of_a_ds_in_batch_mode" id="changing_the_ip_of_a_ds_in_batch_mode">Changing the IP of a DS in batch mode</a></h3>
<div class="level3">
<pre class="code">[dvorkin@dvhome bin]$ echo -ne &quot;Ltest\nGIP\n&quot; | ./dsnetcmd --ta=10.1.1.8 -i
&lt;dev-reply from=&quot;10.1.1.8:65535&quot; cmd=&quot;Ltest&quot;&gt;
	&lt;reply-msg&gt;success&lt;/reply-msg&gt;
&lt;/dev-reply&gt;
&lt;dev-reply from=&quot;10.1.1.8:65535&quot; cmd=&quot;GIP&quot;&gt;
	&lt;reply-msg&gt;success&lt;/reply-msg&gt;
	&lt;reply-data&gt;10.1.1.7&lt;/reply-data&gt;
&lt;/dev-reply&gt;</pre>

</div>

    <!-- wikipage stop -->
  </div>



</div>
<!-- real main body/ -->
</div>
				<br/>
				<p style="color:#828282;margin-left:15px;font-size:12px">&copy; Tibbo Technology Inc. 2001-2009&nbsp;&nbsp;

<a href="javascript:if(confirm('http://old.tibbo.com/corporate/contacts.html  \n\nThis file was not retrieved by Teleport Pro, because it is addressed on a domain or path outside the boundaries set for its Starting Address.  \n\nDo you want to open it from the server?'))window.location='http://old.tibbo.com/corporate/contacts.html'" tppabs="http://old.tibbo.com/corporate/contacts.html">Contact Us</a>&nbsp;|&nbsp;<a href="javascript:if(confirm('http://old.tibbo.com/account.html  \n\nThis file was not retrieved by Teleport Pro, because it is addressed on a domain or path outside the boundaries set for its Starting Address.  \n\nDo you want to open it from the server?'))window.location='http://old.tibbo.com/account.html'" tppabs="http://old.tibbo.com/account.html">Account</a>				</p>
			</td>
		</tr>
	</table>



  
  

  <div class="clearer">&nbsp;</div>

  


<div class="no"><img src="../../lib/exe/indexer.php-id=fixed-vspdl-dsnetcmd&1457462893.gif" tppabs="http://old.tibbo.com/kb/lib/exe/indexer.php?id=fixed%3Avspdl%3Adsnetcmd&1457462893" width="1" height="1" alt=""  /></div>


</body>
</html>
